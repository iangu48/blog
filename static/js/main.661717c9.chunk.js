(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{125:function(e,t){e.exports="data:image/png;base64,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"},160:function(e,t,a){},219:function(e,t,a){e.exports=a.p+"static/media/default-avatar.5097b024.png"},231:function(e,t,a){e.exports=a(561)},236:function(e,t,a){},560:function(e,t,a){},561:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),l=a.n(o),c=(a(236),a(13)),i=a(55),s=a(38),u=a.n(s),m=a(156),d=a(82),E=a(83),p=a.n(E);a(242),a(244),a(564),a(563);p.a.initializeApp({apiKey:"AIzaSyCzdM2fUflxU8vHbsqqTStC8h2WTtmSV_Y",authDomain:"blog-76eb2.firebaseapp.com",databaseURL:"https://blog-76eb2.firebaseio.com",projectId:"blog-76eb2",storageBucket:"blog-76eb2.appspot.com",messagingSenderId:"18470700220",appId:"1:18470700220:web:c6d2424a89f59a78a7fcb9",measurementId:"G-804XQ4R540"}),p.a.analytics();var g=new p.a.auth.GoogleAuthProvider,h=p.a.auth(),f=p.a.firestore(),A=p.a.storage(),v=function(){h.signInWithPopup(g)},b=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=f.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=16;break}return r=t.email,o=t.displayName,l=t.photoURL,e.prev=8,e.next=11,n.set(Object(m.a)({displayName:o,email:r,photoURL:l},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",y(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,f.doc("users/".concat(t)).get();case 5:return a=e.sent,e.abrupt("return",Object(m.a)({uid:t},a.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=p.a,C=(a(160),a(114)),j=a.n(C),k=a(570),w=a(571),S=a(155),B=a(565),I=a(566),O=k.a.Header,x=k.a.Content;k.a.Footer;var N=function(){return r.a.createElement(j.a,{className:"particles-js",params:{particles:{number:{value:60,density:{enable:!0,value_area:1500}},line_linked:{enable:!0,opacity:.2},move:{direction:"right",speed:.2},size:{value:1},opacity:{anim:{enable:!0,speed:1,opacity_min:.05}}},interactivity:{events:{onclick:{enable:!0,mode:"push"}},modes:{push:{particles_nb:1}}},retina_detect:!0}})},D=function(e){return r.a.createElement(k.a,{style:{background:"transparent"}},r.a.createElement(N,null),r.a.createElement(O,{style:{background:"transparent"}},r.a.createElement(w.b,null,r.a.createElement(S.a,{shape:"round",onClick:function(){Object(c.c)("/guest")}},"Blogs"),r.a.createElement(S.a,{shape:"round",onClick:function(){Object(c.c)("/")}},"Sign in"),r.a.createElement(S.a,{shape:"round",onClick:function(){Object(c.c)("/signUp")}},"Create an account"))),r.a.createElement(x,null,r.a.createElement(B.a,{align:"top",justify:"center"},r.a.createElement(I.a,{align:"middle",justify:"center",span:12},r.a.createElement("div",null,e.children)))))},J=a(42),U=a.n(J),R=a(568),P=a(569),K=a(572),F=a(573),T=a(574),z=a(84),L=a.n(z),M=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(null),E=Object(i.a)(d,2),p=E[0],g=E[1],f=function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a?o(n):"userPassword"===a&&m(n)};return r.a.createElement(D,null,r.a.createElement(U.a,{level:2,style:{color:"white",fontWeight:350,marginTop:100}},"Sign In"),r.a.createElement(w.b,{direction:"vertical"},null!==p&&r.a.createElement("div",null,p),r.a.createElement(R.a,{style:{width:"100"}},r.a.createElement(R.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(P.a,{type:"email",name:"userEmail",value:a,id:"userEmail",onChange:function(e){return f(e)},prefix:r.a.createElement(K.a,null),placeholder:"Email"})),r.a.createElement(R.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(P.a,{prefix:r.a.createElement(F.a,null),type:"password",name:"userPassword",id:"userPassword",placeholder:"Password",onChange:function(e){return f(e)}})),r.a.createElement(R.a.Item,null,r.a.createElement(w.b,null,r.a.createElement(S.a,{type:"primary",onClick:function(e){!function(e,t,a){e.preventDefault(),h.signInWithEmailAndPassword(t,a).catch((function(e){g(e.code+": "+e.message),console.error(e)}))}(e,a,u)}},"Log in"),r.a.createElement(c.a,{to:"passwordReset"},"Forgot Password?")))),r.a.createElement("br",null),r.a.createElement(R.a,null,r.a.createElement(R.a.Item,null,r.a.createElement(S.a,{onClick:v},r.a.createElement(T.a,null),"\xa0Sign in with Google")),r.a.createElement(R.a.Item,null,r.a.createElement(L.a,{style:{color:"#fdfdffff"}},"Don't have an account?",r.a.createElement(c.a,{to:"signUp"}," Sign up here "))),r.a.createElement(R.a.Item,null,r.a.createElement(c.a,{to:"guest"},"Continue as guest")))))},Y=a(575),H=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],E=s[1],p=Object(n.useState)(""),g=Object(i.a)(p,2),f=g[0],A=g[1],y=Object(n.useState)(null),Q=Object(i.a)(y,2),C=Q[0],j=Q[1],k=function(){var e=Object(d.a)(u.a.mark((function e(t,a,n){var r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.createUserWithEmailAndPassword(a,n);case 4:r=e.sent,l=r.user,b(l,{displayName:f}),Object(c.c)("/"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),j(e.t0.code+": "+e.t0.message);case 14:o(""),E(""),A("");case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),B=function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a?o(n):"userPassword"===a?E(n):"displayName"===a&&A(n)};return r.a.createElement(D,null,r.a.createElement(U.a,{level:2,style:{color:"white",fontWeight:350,marginTop:100}},"Sign Up"),r.a.createElement(w.b,{direction:"vertical"},null!==C&&r.a.createElement("div",null,C),r.a.createElement(R.a,{style:{width:"100"}},r.a.createElement(R.a.Item,{name:"displayName",rules:[{required:!0,message:"Please input your display name!"}]},r.a.createElement(P.a,{type:"text",name:"displayName",value:f,placeholder:"Display name",id:"displayName",onChange:function(e){return B(e)},prefix:r.a.createElement(Y.a,null)})),r.a.createElement(R.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(P.a,{type:"email",name:"userEmail",value:a,placeholder:"example@gmail.com",id:"userEmail",onChange:function(e){return B(e)},prefix:r.a.createElement(K.a,null)})),r.a.createElement(R.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(P.a,{prefix:r.a.createElement(F.a,null),type:"password",name:"userPassword",id:"userPassword",placeholder:"Password",onChange:function(e){return B(e)}})),r.a.createElement(R.a.Item,null,r.a.createElement(S.a,{type:"primary",onClick:function(e){k(e,a,m)}},"Sign up"))),r.a.createElement("br",null),r.a.createElement(R.a,null,r.a.createElement(R.a.Item,null,r.a.createElement(S.a,{onClick:v},r.a.createElement(T.a,null),"\xa0Sign in with Google")),r.a.createElement(R.a.Item,null,r.a.createElement(L.a,{style:{color:"#fdfdffff"}},"Already have an account?",r.a.createElement(c.a,{to:"/"}," Sign in here "))),r.a.createElement(R.a.Item,null,r.a.createElement(c.a,{to:"guest"},"Continue as guest")))))},W=a(47),q=a(48),G=a(50),Z=a(49),X=Object(n.createContext)({user:null}),V=function(e){Object(G.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e.componentDidMount=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.onAuthStateChanged(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(a);case 2:t.sent,e.setState({user:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))),e}return Object(q.a)(a,[{key:"render",value:function(){return r.a.createElement(X.Provider,{value:this.state.user},this.props.children)}}]),a}(n.Component),_=a(219),$=a.n(_),ee=k.a.Header,te=k.a.Content;k.a.Footer;var ae=function(){return r.a.createElement(j.a,{className:"particles-js",params:{particles:{number:{value:60,density:{enable:!0,value_area:1500}},line_linked:{enable:!0,opacity:.2},move:{direction:"right",speed:.2},size:{value:1},opacity:{anim:{enable:!0,speed:1,opacity_min:.05}}},interactivity:{events:{onclick:{enable:!0,mode:"push"}},modes:{push:{particles_nb:1}}},retina_detect:!0}})},ne=function(e){return r.a.createElement(k.a,{style:{background:"transparent"}},r.a.createElement(ae,null),r.a.createElement(ee,{style:{background:"transparent"}},r.a.createElement(w.b,null,r.a.createElement(S.a,{shape:"round",onClick:function(){Object(c.c)("/")}},"Blogs"),r.a.createElement(S.a,{shape:"round",onClick:function(){Object(c.c)("/profile")}},"Profile"),r.a.createElement(S.a,{shape:"round",onClick:function(){h.signOut(),Object(c.c)("/")}},"Sign out"))),r.a.createElement(te,null,r.a.createElement(B.a,{align:"top",justify:"center"},r.a.createElement(I.a,{align:"middle",justify:"center",span:12},r.a.createElement("div",null,e.children)))))},re=function(){var e=Object(n.useContext)(X),t=e.photoURL,a=e.displayName,o=e.email;return r.a.createElement(ne,null,r.a.createElement("div",null,r.a.createElement("div",{style:{background:"url(".concat(t||$.a,")  no-repeat center center"),backgroundSize:"cover",height:"100px",width:"100px",borderRadius:"10px"}}," "),r.a.createElement("div",null,r.a.createElement(U.a,{level:3,style:{color:"white",marginBottom:0,fontWeight:350}},a),r.a.createElement(U.a,{level:4,style:{color:"white",marginBottom:0,fontWeight:350}},o))),r.a.createElement(S.a,{style:{marginTop:100},onClick:function(){h.signOut(),Object(c.c)("/")}},"Sign out"))},oe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(null),E=Object(i.a)(d,2),p=E[0],g=E[1];return r.a.createElement(D,null,r.a.createElement(U.a,{level:2,style:{color:"white",fontWeight:350,marginTop:100}},"Reset your password"),r.a.createElement(w.b,{direction:"vertical"},r.a.createElement(R.a,{style:{width:"100"},action:"",layout:"inline"},r.a.createElement(R.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(P.a,{type:"email",name:"userEmail",value:a,placeholder:"example@gmail.com",id:"userEmail",onChange:function(e){return function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a&&o(n)}(e)},prefix:r.a.createElement(K.a,null)})),r.a.createElement(R.a.Item,null,r.a.createElement(S.a,{type:"primary",onClick:function(e){g(""),e.preventDefault(),h.sendPasswordResetEmail(a).then((function(){m(!0)})).catch((function(){g("Error resetting password")}))}},"Send me a reset link"))),u&&r.a.createElement(L.a,{type:"success"},"An email has been sent to you!"),null!==p&&r.a.createElement(L.a,{type:"danger"},p),r.a.createElement(R.a,null,r.a.createElement(R.a.Item,null,r.a.createElement(c.a,{to:"/"},"\u2190 back to sign in page")))))},le=function(e){Object(G.a)(a,e);var t=Object(Z.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t)},n.onFileUpload=function(e){var t=n.state;t[e.target.name]=e.target.files[0],n.setState(t)},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,r=t.desc,o=t.posted,l=t.updated,i=t.cover;if(""===i)n.postsCollection.add({title:a,desc:r,posted:o,updated:l,cover:i}).then((function(e){n.setState({title:"",desc:"",posted:Date.now(),updated:Date.now(),cover:""}),Object(c.c)("/".concat(e.id))})).catch((function(e){console.error("Error adding document: ",e)}));else{var s="".concat(Date.now(),"-").concat(i.name);A.ref("/covers/".concat(s)).put(i).on("state_changed",console.log,console.error,(function(){A.ref("covers").child(s).getDownloadURL().then((function(e){n.postsCollection.add({title:a,desc:r,posted:o,updated:l,cover:e}).then((function(e){n.setState({title:"",desc:"",posted:Date.now(),updated:Date.now(),cover:""}),Object(c.c)("/".concat(e.id))})).catch((function(e){console.error("Error adding document: ",e)}))}))}))}},n.postsCollection=Q.firestore().collection("posts"),n.state={title:"",desc:"",posted:Date.now(),updated:Date.now(),cover:""},n}return Object(q.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.desc;return r.a.createElement(ne,null,r.a.createElement("div",null,r.a.createElement("h4",null,"new post"),r.a.createElement("h4",null,r.a.createElement(c.a,{to:"/"},"browse")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("label",{htmlFor:"title"},"Title:"),r.a.createElement("input",{type:"text",name:"title",value:t,onChange:this.onChange,placeholder:"Title"}),r.a.createElement("label",{htmlFor:"desc"},"Description:"),r.a.createElement("textArea",{name:"desc",onChange:this.onChange,placeholder:"Description",cols:"80",rows:"3"},a),r.a.createElement("label",{htmlFor:"cover"},"Upload Cover"),r.a.createElement("input",{type:"file",name:"cover",onChange:this.onFileUpload}),r.a.createElement("button",{type:"submit"},"Submit"))))}}]),a}(n.Component),ce=function(e){Object(G.a)(a,e);var t=Object(Z.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState({post:t})},n.onFileUpload=function(e){var t=n.state;t[e.target.name]=e.target.files[0],n.setState(t)},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,r=t.desc,o=t.posted,l=t.updated,i=void 0===l?Date.now():l,s=t.cover,u=Q.firestore().collection("posts").doc(n.state.key);if("string"===typeof s)u.set({title:a,desc:r,posted:o,updated:i,cover:s}).then((function(e){n.setState({key:"",title:"",desc:"",posted:"",updated:"",cover:""}),Object(c.c)("../")})).catch((function(e){console.error("Error: ",e)}));else{var m="".concat(Date.now(),"-").concat(s.name);A.ref("/covers/".concat(m)).put(s).on("state_changed",console.log,console.error,(function(){A.ref("covers").child(m).getDownloadURL().then((function(e){u.set({title:a,desc:r,posted:o,updated:i,cover:e}).then((function(e){n.setState({key:"",title:"",desc:"",posted:"",updated:"",cover:""}),Object(c.c)("../")})).catch((function(e){console.error("Error: ",e)}))}))}))}},n.state={key:"",title:"",desc:"",posted:"",updated:"",cover:""},n}return Object(q.a)(a,[{key:"delete",value:function(e){Q.firestore().collection("posts").doc(e).delete().then((function(){Object(c.c)("/")})).catch((function(e){console.log("error: ",e)}))}},{key:"componentDidMount",value:function(){var e=this;Q.firestore().collection("posts").doc(this.props.id).get().then((function(t){if(t.exists){var a=t.data();e.setState({key:t.id,title:a.title,desc:a.desc,posted:a.posted,updated:a.updated,cover:a.cover})}else console.log("Cannot find document")}))}},{key:"render",value:function(){return r.a.createElement(ne,null,r.a.createElement("h3",null,"Edit"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("label",{htmlFor:"title"},"Title:"),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.onChange,placeholder:"Title"}),r.a.createElement("label",{htmlFor:"desc"},"Description:"),r.a.createElement("input",{type:"text",name:"desc",value:this.state.desc,onChange:this.onChange,placeholder:"Description"}),r.a.createElement("label",{htmlFor:"cover"},"Upload/change cover",r.a.createElement("img",{src:this.state.cover,alt:"",style:{maxWidth:100}})),r.a.createElement("input",{type:"file",name:"cover",onChange:this.onFileUpload}),r.a.createElement("button",{type:"submit"},"Submit")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.delete.bind(this,this.state.key)},"Delete"))}}]),a}(n.Component);function ie(e){var t=Object(n.useContext)(X),a="iangu234@gmail.com"===t.email||"ian.gu@mail.utoronto.ca"===t.email;return r.a.createElement(ce,Object.assign({admin:a},e))}var se=a(221),ue=a(220),me=a(124),de=a.n(me),Ee=function(e){Object(G.a)(a,e);var t=Object(Z.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).state={post:{},key:""},n}return Object(q.a)(a,[{key:"componentDidMount",value:function(){var e=this;Q.firestore().collection("posts").doc(this.props.id).get().then((function(t){t.exists?e.setState({post:t.data(),key:t.id,isLoading:!1}):console.log("Could not find document")}))}},{key:"render",value:function(){return r.a.createElement(ne,null,r.a.createElement("div",null,this.props.admin?r.a.createElement(S.a,{type:"default",style:{marginBottom:10}},r.a.createElement(c.a,{to:"/".concat(this.state.key,"/edit")},"Edit ",r.a.createElement(ue.a,{icon:se.a}))):null,r.a.createElement("br",null),r.a.createElement(U.a,{level:2,style:{color:"white",marginTop:"30px",fontWeight:300}},this.state.post.title),r.a.createElement("img",{src:this.state.post.cover,alt:"",style:{maxHeight:"50vh",borderRadius:10}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{style:{color:"#fdfdffff",textAlign:"justify",marginBottom:0}},this.state.post.desc)))}}]),a}(n.Component);function pe(e){var t=Object(n.useContext)(X),a="iangu234@gmail.com"===t.email||"ian.gu@mail.utoronto.ca"===t.email;return r.a.createElement(Ee,Object.assign({admin:a},e))}var ge=a(567),he=a(125),fe=a.n(he),Ae=function(e){Object(G.a)(a,e);var t=Object(Z.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.title,r=a.desc,o=a.cover,l=a.posted,c=a.updated;t.push({key:e.id,doc:e,title:n,desc:r,cover:o,posted:l,updated:c})})),n.setState({posts:t})},n.noCoverImg=function(e){e.target.src=fe.a},n.ref=Q.firestore().collection("posts"),n.unsubscribe=null,n.state={posts:[]},n}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate)}},{key:"render",value:function(){var e=this;return r.a.createElement(ne,null,this.props.admin?r.a.createElement(S.a,{type:"primary",style:{marginBottom:10}},r.a.createElement(c.a,{to:"/new"},"New post")):null,r.a.createElement(ge.b,{itemLayout:"vertical",size:"large",dataSource:this.state.posts,style:{background:"#fdfdffff",borderRadius:10},renderItem:function(t){return r.a.createElement(ge.b.Item,{key:t.posted},r.a.createElement(ge.b.Item.Meta,{avatar:r.a.createElement(c.a,{to:"/".concat(t.key)},r.a.createElement("img",{width:100,height:100,onError:e.noCoverImg,src:t.cover,style:{objectFit:"cover",borderRadius:4},alt:""})),title:r.a.createElement(c.a,{to:"/".concat(t.key),style:{fontWeight:400}},new Date(t.posted).toLocaleDateString()," - ",t.title),description:r.a.createElement("div",null,r.a.createElement(U.a,{level:5,style:{color:"#393d3fff",textAlign:"left",marginBottom:0,marginTop:0,fontWeight:400},ellipsis:{rows:3}},r.a.createElement(c.a,{to:"/".concat(t.key),style:{fontWeight:400,color:"#393d3fff"}},t.desc)))}))}}))}}]),a}(n.Component);function ve(e){var t=Object(n.useContext)(X),a="iangu234@gmail.com"===t.email||"ian.gu@mail.utoronto.ca"===t.email;return r.a.createElement(Ae,Object.assign({admin:a},e,{user:t}))}var be=function(e){Object(G.a)(a,e);var t=Object(Z.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.title,r=a.desc,o=a.cover,l=a.posted,c=a.updated;t.push({key:e.id,doc:e,title:n,desc:r,cover:o,posted:l,updated:c})})),n.setState({posts:t})},n.noCoverImg=function(e){e.target.src=fe.a},n.ref=Q.firestore().collection("posts"),n.unsubscribe=null,n.state={posts:[]},n}return Object(q.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate)}},{key:"render",value:function(){var e=this;return r.a.createElement(D,null,r.a.createElement(ge.b,{itemLayout:"vertical",size:"large",dataSource:this.state.posts,style:{background:"#fdfdffff",borderRadius:10},renderItem:function(t){return r.a.createElement(ge.b.Item,{key:t.posted},r.a.createElement(ge.b.Item.Meta,{avatar:r.a.createElement(c.a,{to:"/guest/".concat(t.key)},r.a.createElement("img",{width:100,height:100,onError:e.noCoverImg,src:t.cover,style:{objectFit:"cover",borderRadius:4},alt:""})),title:r.a.createElement(c.a,{to:"/guest/".concat(t.key),style:{fontWeight:400}},new Date(t.posted).toLocaleDateString()," - ",t.title),description:r.a.createElement("div",null,r.a.createElement(U.a,{level:5,style:{color:"#393d3fff",textAlign:"left",marginBottom:0,marginTop:0,fontWeight:400},ellipsis:{rows:3}},r.a.createElement(c.a,{to:"/guest/".concat(t.key),style:{fontWeight:400,color:"#393d3fff"}},t.desc)))}))}}))}}]),a}(n.Component),ye=function(e){Object(G.a)(a,e);var t=Object(Z.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).state={post:{},key:""},n}return Object(q.a)(a,[{key:"componentDidMount",value:function(){var e=this;Q.firestore().collection("posts").doc(this.props.id).get().then((function(t){t.exists?e.setState({post:t.data(),key:t.id,isLoading:!1}):console.log("Could not find document")}))}},{key:"render",value:function(){return r.a.createElement(D,null,r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(U.a,{level:2,style:{color:"white",marginTop:"30px",fontWeight:300}},this.state.post.title),r.a.createElement("img",{src:this.state.post.cover,alt:"",style:{maxHeight:"50vh",borderRadius:10}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,{style:{color:"#fdfdffff",textAlign:"justify",marginBottom:0}},this.state.post.desc)))}}]),a}(n.Component);a(559);var Qe=function(){var e=Object(n.useContext)(X);return e?"iangu234@gmail.com"===e.email||"ian.gu@mail.utoronto.ca"===e.email?r.a.createElement(c.b,null,r.a.createElement(ve,{path:"/"}),r.a.createElement(re,{path:"/profile"}),r.a.createElement(le,{path:"/new"}),r.a.createElement(ie,{path:"/:id/edit"}),r.a.createElement(pe,{path:"/:id"})):r.a.createElement(c.b,null,r.a.createElement(re,{path:"/profile"}),r.a.createElement(ve,{path:"/"}),r.a.createElement(pe,{path:"/:id"})):r.a.createElement(c.b,null,r.a.createElement(H,{path:"signUp"}),r.a.createElement(M,{path:"/"}),r.a.createElement(oe,{path:"passwordReset"}),r.a.createElement(be,{path:"guest"}),r.a.createElement(ye,{path:"guest/:id"}))};a(560);var Ce=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(V,null,r.a.createElement(Qe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[231,1,2]]]);
//# sourceMappingURL=main.661717c9.chunk.js.map