{"version":3,"sources":["static/default-avatar.png","firebase.js","components/auth/SignIn.js","components/auth/SignUp.js","providers/UserProvider.jsx","components/Wrapper.js","components/auth/ProfilePage.js","components/auth/PasswordReset.js","components/admin/New.js","components/admin/Edit.js","components/blog/Show.js","components/blog/Browse.js","components/GuestWrapper.js","components/blog/GuestBrowse.js","components/blog/GuestShow.js","components/Application.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","auth","GoogleAuthProvider","firestore","signInWithGoogle","signInWithPopup","generateUserDocument","user","additionalData","a","userRef","doc","uid","get","exists","email","displayName","photoURL","set","console","error","getUserDocument","userDocument","data","SignIn","useState","setEmail","password","setPassword","setError","onChangeHandler","event","currentTarget","name","value","htmlFor","type","placeholder","id","onChange","onClick","preventDefault","signInWithEmailAndPassword","catch","code","message","signInWithEmailAndPasswordHandler","to","SignUp","setDisplayName","createUserWithEmailAndPasswordHandler","createUserWithEmailAndPassword","navigate","log","className","UserContext","createContext","UserProvider","state","componentDidMount","onAuthStateChanged","userAuth","setState","Provider","this","props","children","Component","Wrapper","signOut","ProfilePage","useContext","div","style","background","defaultAvatar","backgroundSize","height","width","borderRadius","PasswordReset","emailHasBeenSent","setEmailHasBeenSent","action","sendPasswordResetEmail","then","setTimeout","New","e","target","onSubmit","title","desc","posted","updated","cover","ref","add","docRef","Date","now","collection","cols","rows","EditImpl","post","key","Edit","admin","ShowImpl","isLoading","Show","BrowseImpl","onCollectionUpdate","querySnapshot","posts","forEach","push","unsubscribe","onSnapshot","margin","map","Browse","GuestBrowse","GuestWrapper","GuestShow","Application","path","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b899d683.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default-avatar.5097b024.png\";","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nvar firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_APIKEY,\r\n    authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASEURL,\r\n    projectId: process.env.REACT_APP_PROJECTID,\r\n    storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\r\n    appId: process.env.REACT_APP_APPID,\r\n    measurementId: process.env.REACT_APP_MEASUREMENTID\r\n}\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const signInWithGoogle = () => {\r\n    auth.signInWithPopup(provider);\r\n};\r\n\r\nexport const generateUserDocument = async (user, additionalData) => {\r\n    if (!user) return;\r\n\r\n    const userRef = firestore.doc(`users/${user.uid}`);\r\n    const snapshot = await userRef.get();\r\n\r\n    if (!snapshot.exists) {\r\n        const { email, displayName, photoURL } = user;\r\n        try {\r\n            await userRef.set({\r\n                displayName,\r\n                email,\r\n                photoURL,\r\n                ...additionalData\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error creating user document\", error);\r\n        }\r\n    }\r\n    return getUserDocument(user.uid);\r\n};\r\n\r\nconst getUserDocument = async uid => {\r\n    if (!uid) return null;\r\n    try {\r\n        const userDocument = await firestore.doc(`users/${uid}`).get();\r\n        return {\r\n            uid,\r\n            ...userDocument.data()\r\n        };\r\n    } catch (error) {\r\n        console.error(\"Error fetching user\", error);\r\n    }\r\n};\r\n\r\n// blog\r\n\r\nexport default firebase;","import React, {useState} from \"react\";\r\nimport { Link } from \"@reach/router\";\r\nimport {auth, signInWithGoogle} from \"../../firebase\";\r\n\r\nconst SignIn = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(null);\r\n\r\n    const signInWithEmailAndPasswordHandler = (event,email, password) => {\r\n            event.preventDefault();\r\n            auth.signInWithEmailAndPassword(email, password).catch( error => {\r\n                setError(error.code + \": \" + error.message);\r\n                console.error(error);\r\n            });\r\n        };\r\n\r\n    const onChangeHandler = (event) => {\r\n        const {name, value} = event.currentTarget;\r\n\r\n        if(name === 'userEmail') {\r\n            setEmail(value);\r\n        }\r\n        else if(name === 'userPassword'){\r\n            setPassword(value);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Sign In</h1>\r\n            <div>\r\n                {error !== null && <div>{error}</div>}\r\n                <form>\r\n                    <label htmlFor=\"userEmail\">\r\n                        Email:\r\n                    </label>\r\n                    <input\r\n                        type=\"email\"\r\n                        name=\"userEmail\"\r\n                        value = {email}\r\n                        placeholder=\"yourEmail@gmail.com\"\r\n                        id=\"userEmail\"\r\n                        onChange = {(event) => onChangeHandler(event)}\r\n                    />\r\n                    <label htmlFor=\"userPassword\">\r\n                        Password:\r\n                    </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"userPassword\"\r\n                        value = {password}\r\n                        placeholder=\"Your Password\"\r\n                        id=\"userPassword\"\r\n                        onChange = {(event) => onChangeHandler(event)}\r\n                    />\r\n                    <button onClick = {(event) => {signInWithEmailAndPasswordHandler(event, email, password)}}>\r\n                        Sign in\r\n                    </button>\r\n                </form>\r\n                <p>or</p>\r\n                <button\r\n                    onClick={signInWithGoogle}>\r\n                    Sign in with Google\r\n                </button>\r\n                <p>\r\n                    Don't have an account?{\" \"}\r\n                    <Link to=\"signUp\">\r\n                        Sign up here\r\n                    </Link>{\" \"}\r\n                    <br />{\" \"}\r\n                    <Link to = \"passwordReset\">\r\n                        Forgot Password?\r\n                    </Link>\r\n                    <br/>\r\n                    <br/>\r\n\r\n                    <Link to = \"guest\">\r\n                        Continue as guest\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default SignIn;","import React, { useState } from \"react\";\r\nimport {Link, navigate} from \"@reach/router\";\r\nimport {auth, generateUserDocument, signInWithGoogle} from \"../../firebase\";\r\nconst SignUp = () => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [displayName, setDisplayName] = useState(\"\");\r\n    const [error, setError] = useState(null);\r\n\r\n    const createUserWithEmailAndPasswordHandler = async (event, email, password) => {\r\n        event.preventDefault();\r\n        try{\r\n            const {user} = await auth.createUserWithEmailAndPassword(email, password);\r\n            generateUserDocument(user, {displayName});\r\n            navigate('/')\r\n        }\r\n        catch(error){\r\n            console.log(error);\r\n            setError(error.code + \": \" + error.message);\r\n        }\r\n\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n        setDisplayName(\"\");\r\n    };\r\n\r\n    const onChangeHandler = event => {\r\n        const { name, value } = event.currentTarget;\r\n        if (name === \"userEmail\") {\r\n            setEmail(value);\r\n        } else if (name === \"userPassword\") {\r\n            setPassword(value);\r\n        } else if (name === \"displayName\") {\r\n            setDisplayName(value);\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"mt-8\">\r\n            <h1 className=\"text-3xl mb-2 text-center font-bold\">Sign Up</h1>\r\n            <div className=\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\r\n                {error !== null && (\r\n                    <div className=\"py-4 bg-red-600 w-full text-white text-center mb-3\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n                <form className=\"\">\r\n                    <label htmlFor=\"displayName\" className=\"block\">\r\n                        Display Name:\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"my-1 p-1 w-full \"\r\n                        name=\"displayName\"\r\n                        value={displayName}\r\n                        placeholder=\"E.g: Faruq\"\r\n                        id=\"displayName\"\r\n                        onChange={event => onChangeHandler(event)}\r\n                    />\r\n                    <label htmlFor=\"userEmail\" className=\"block\">\r\n                        Email:\r\n                    </label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"my-1 p-1 w-full\"\r\n                        name=\"userEmail\"\r\n                        value={email}\r\n                        placeholder=\"E.g: faruq123@gmail.com\"\r\n                        id=\"userEmail\"\r\n                        onChange={event => onChangeHandler(event)}\r\n                    />\r\n                    <label htmlFor=\"userPassword\" className=\"block\">\r\n                        Password:\r\n                    </label>\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"mt-1 mb-3 p-1 w-full\"\r\n                        name=\"userPassword\"\r\n                        value={password}\r\n                        placeholder=\"Your Password\"\r\n                        id=\"userPassword\"\r\n                        onChange={event => onChangeHandler(event)}\r\n                    />\r\n                    <button\r\n                        className=\"bg-green-400 hover:bg-green-500 w-full py-2 text-white\"\r\n                        onClick={event => {\r\n                            createUserWithEmailAndPasswordHandler(event, email, password);\r\n                        }}\r\n                    >\r\n                        Sign up\r\n                    </button>\r\n                </form>\r\n                <p className=\"text-center my-3\">or</p>\r\n                <button\r\n                    className=\"bg-red-500 hover:bg-red-600 w-full py-2 text-white\"\r\n                    onClick={signInWithGoogle}\r\n                >\r\n                    Sign In with Google\r\n                </button>\r\n                <p className=\"text-center my-3\">\r\n                    Already have an account?{\" \"}\r\n                    <Link to=\"/\" className=\"text-blue-500 hover:text-blue-600\">\r\n                        Sign in here\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default SignUp;","import React, { Component, createContext } from \"react\";\r\nimport {auth, generateUserDocument} from \"../firebase\";\r\n\r\nexport const UserContext = createContext({ user: null });\r\nclass UserProvider extends Component {\r\n    state = {\r\n        user: null\r\n    };\r\n\r\n    componentDidMount = async () => {\r\n        auth.onAuthStateChanged(async userAuth => {\r\n            // eslint-disable-next-line no-unused-vars\r\n            const user = await generateUserDocument(userAuth);\r\n            this.setState({ user: userAuth});\r\n            // console.log(`user ${user.displayName} logged in`);\r\n        });\r\n    };\r\n    render() {\r\n        return (\r\n            <UserContext.Provider value={this.state.user}>\r\n                {this.props.children}\r\n            </UserContext.Provider>\r\n        );\r\n    }\r\n}\r\nexport default UserProvider;","import \"./blog.css\"\r\nimport React from 'react';\r\nimport {auth} from \"../firebase\";\r\nimport {navigate} from \"@reach/router\";\r\n\r\nfunction Wrapper(props) {\r\n\r\n    return (\r\n        <div className={\"h100\"}>\r\n            <button onClick={() => {navigate('/')}}>\r\n                Blogs\r\n            </button>\r\n            <button onClick={() => {navigate('/profile')}}>\r\n                Profile\r\n            </button>\r\n            <button\r\n                onClick={() => {\r\n                auth.signOut()\r\n                navigate('/');\r\n            }}>\r\n                Sign out\r\n            </button>\r\n\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Wrapper;","import React, {useContext} from \"react\";\r\nimport {UserContext} from \"../../providers/UserProvider\";\r\nimport {auth} from \"../../firebase\";\r\nimport defaultAvatar from \"../../static/default-avatar.png\"\r\nimport {navigate} from \"@reach/router\";\r\nimport Wrapper from \"../Wrapper\";\r\n\r\nconst ProfilePage = () => {\r\n    const user = useContext(UserContext);\r\n    const {photoURL, displayName, email} = user;\r\n\r\n    const div = <div>\r\n        <div>\r\n            <div style={{\r\n                background: `url(${photoURL || defaultAvatar})  no-repeat center center`,\r\n                backgroundSize: \"cover\",\r\n                height: \"100px\",\r\n                width: \"100px\",\r\n                borderRadius: \"10px\"\r\n            }}\r\n            > </div>\r\n            <div>\r\n                <h2>{displayName}</h2>\r\n                <h3>{email}</h3>\r\n            </div>\r\n        </div>\r\n        <button onClick={() => {\r\n            auth.signOut()\r\n            navigate('/');\r\n        }}>\r\n            Sign out\r\n        </button>\r\n    </div>\r\n\r\n    return <Wrapper>{div}</Wrapper>\r\n};\r\nexport default ProfilePage;","import React, { useState } from \"react\";\r\nimport { Link } from \"@reach/router\";\r\nimport {auth} from \"../../firebase\";\r\n\r\nconst PasswordReset = () => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [emailHasBeenSent, setEmailHasBeenSent] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const onChangeHandler = event => {\r\n        const { name, value } = event.currentTarget;\r\n        if (name === \"userEmail\") {\r\n            setEmail(value);\r\n        }\r\n    };\r\n    const sendResetEmail = event => {\r\n        event.preventDefault();\r\n        auth.sendPasswordResetEmail(email)\r\n            .then(() => {\r\n                setEmailHasBeenSent(true);\r\n                setTimeout(() => {setEmailHasBeenSent(false)}, 3000);\r\n            })\r\n            .catch(() => {\r\n                setError(\"Error resetting password\");\r\n            });\r\n    };\r\n    return (\r\n        <div>\r\n            <h1>\r\n                Reset your Password\r\n            </h1>\r\n            <div>\r\n                <form action=\"\">\r\n                    {emailHasBeenSent && (\r\n                        <div>\r\n                            An email has been sent to you!\r\n                        </div>\r\n                    )}\r\n                    {error !== null && (\r\n                        <div>\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n                    <label htmlFor=\"userEmail\">\r\n                        Email:\r\n                    </label>\r\n                    <input\r\n                        type=\"email\"\r\n                        name=\"userEmail\"\r\n                        id=\"userEmail\"\r\n                        value={email}\r\n                        placeholder=\"Input your email\"\r\n                        onChange={onChangeHandler}\r\n                    />\r\n                    <button onClick={sendResetEmail}>\r\n                        Send me a reset link\r\n                    </button>\r\n                </form>\r\n                <Link to =\"/\">\r\n                    &larr; back to sign in page\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default PasswordReset;","import React, {Component} from \"react\";\r\nimport firebase from \"../../firebase\";\r\nimport {Link, navigate} from \"@reach/router\";\r\nimport Wrapper from \"../Wrapper\";\r\n\r\nclass New extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.ref = firebase.firestore().collection(\"posts\");\r\n        this.state = {\r\n            title: '',\r\n            desc: '',\r\n            posted: Date.now(),\r\n            updated: Date.now(),\r\n            cover: 'default cover',\r\n        };\r\n    }\r\n\r\n    onChange = (e) => {\r\n        const state = this.state;\r\n        state[e.target.name] = e.target.value;\r\n        this.setState(state);\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { title, desc, posted, updated, cover } = this.state;\r\n\r\n        this.ref.add({\r\n            title,\r\n            desc,\r\n            posted,\r\n            updated,\r\n            cover\r\n        }).then((docRef) => {\r\n            this.setState({\r\n                title: '',\r\n                desc: '',\r\n                posted: Date.now(),\r\n                updated: Date.now(),\r\n                cover: '',\r\n            });\r\n            navigate(`/${docRef.id}`);\r\n        })\r\n            .catch((error) => {\r\n                console.error(\"Error adding document: \", error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const {title, desc } = this.state;\r\n        return (\r\n            <Wrapper>\r\n                <div>\r\n                    <h4>new post</h4>\r\n                    <h4><Link to=\"/\">browse</Link></h4>\r\n\r\n                    <form onSubmit={this.onSubmit}>\r\n                        <label htmlFor=\"title\">Title:</label>\r\n                        <input type=\"text\" name=\"title\" value={title} onChange={this.onChange} placeholder=\"Title\"/>\r\n\r\n                        <label htmlFor=\"desc\">Description:</label>\r\n                        <textArea name=\"desc\" onChange={this.onChange} placeholder=\"Description\" cols=\"80\"\r\n                                  rows=\"3\">{desc}</textArea>\r\n\r\n                        <button type=\"submit\">Submit</button>\r\n                    </form>\r\n                </div>\r\n            </Wrapper>\r\n        );\r\n    }\r\n}\r\n\r\nexport default New;","import React, {Component, useContext} from 'react';\r\nimport firebase from \"../../firebase\";\r\nimport {navigate} from \"@reach/router\";\r\nimport {UserContext} from \"../../providers/UserProvider\";\r\nimport Wrapper from \"../Wrapper\";\r\n\r\nclass EditImpl extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            key: '',\r\n            title: '',\r\n            desc: '',\r\n            posted: '',\r\n            updated: '',\r\n            cover: '',\r\n        }\r\n    };\r\n    \r\n    componentDidMount() {\r\n        const ref = firebase.firestore().collection('posts').doc(this.props.id);\r\n        ref.get().then((doc) => {\r\n           if (doc.exists) {\r\n               const post = doc.data();\r\n               this.setState({\r\n                   key: doc.id,\r\n                   title: post.title,\r\n                   desc: post.desc,\r\n                   posted: post.posted,\r\n                   updated: post.updated,\r\n                   cover: post.cover,\r\n               });\r\n           } else {\r\n               console.log(\"Cannot find document\")\r\n           }\r\n        });\r\n    }\r\n    \r\n    onChange = (e) => {\r\n        const state = this.state;\r\n        state[e.target.name] = e.target.value;\r\n        this.setState({post: state});\r\n    }\r\n    \r\n    onSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        const { title, desc, posted, updated = Date.now(), cover } = this.state;\r\n\r\n        const updateRef = firebase.firestore().collection('posts').doc(this.state.key);\r\n\r\n        updateRef.set({\r\n            title, desc, posted, updated, cover\r\n        }).then((docRef) => {\r\n            this.setState({\r\n                key: '',\r\n                title: '',\r\n                desc: '',\r\n                posted: '',\r\n                updated: '',\r\n                cover: '',\r\n            });\r\n            navigate(`../`);\r\n\r\n        }).catch((error) => {\r\n            console.error(\"Error: \", error);\r\n        });\r\n\r\n        console.log(\"reached\")\r\n\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <Wrapper>\r\n                <h3>Edit</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <label htmlFor=\"title\">Title:</label>\r\n                    <input type=\"text\" name=\"title\" value={this.state.title}\r\n                           onChange={this.onChange} placeholder=\"Title\"/>\r\n\r\n                    <label htmlFor=\"desc\">Description:</label>\r\n                    <input type=\"text\" name=\"desc\" value={this.state.desc}\r\n                           onChange={this.onChange} placeholder=\"Description\"/>\r\n\r\n                    <label htmlFor=\"cover\">Cover:</label>\r\n                    <input type=\"text\" name=\"cover\" value={this.state.cover}\r\n                           onChange={this.onChange} placeholder=\"cover\"/>\r\n\r\n                    <button type=\"submit\">Submit</button>\r\n                </form>\r\n            </Wrapper>\r\n        );\r\n    }\r\n}\r\n\r\nexport default function Edit(props) {\r\n    const user = useContext(UserContext);\r\n    const admin = user.email === \"iangu234@gmail.com\" || user.email === \"ian.gu@mail.utoronto.ca\";\r\n\r\n    return <EditImpl admin={admin} {...props}/>\r\n}","import React, {Component, useContext} from \"react\";\r\nimport firebase from \"../../firebase.js\";\r\nimport {Link} from \"@reach/router\";\r\nimport {UserContext} from \"../../providers/UserProvider\";\r\nimport Wrapper from \"../Wrapper\";\r\n\r\nclass ShowImpl extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            post: {},\r\n            key: '',\r\n        };\r\n    };\r\n\r\n    componentDidMount() {\r\n        const ref = firebase.firestore().collection('posts').doc(this.props.id);\r\n        ref.get().then((doc) => {\r\n            if (doc.exists) {\r\n                this.setState({\r\n                    post: doc.data(),\r\n                    key: doc.id,\r\n                    isLoading: false,\r\n                });\r\n            } else {\r\n                console.log(\"Could not find document\");\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <Wrapper>\r\n                <div>\r\n                    <Link to={\"/\"}>Home</Link>\r\n                    { this.props.admin ?\r\n                        <Link to={`/${this.state.key}/edit`}>Edit</Link>\r\n                        :\r\n                        null\r\n                    }\r\n\r\n                    <br/>\r\n\r\n                    Title: {this.state.post.title}\r\n                    <br/>\r\n                    Desc: {this.state.post.desc}\r\n                </div>\r\n            </Wrapper>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n// export default Show;\r\n\r\nexport default function Show(props) {\r\n    const user = useContext(UserContext);\r\n    const admin = user.email === \"iangu234@gmail.com\" || user.email === \"ian.gu@mail.utoronto.ca\";\r\n\r\n    return <ShowImpl admin={admin} {...props}/>\r\n}","import React, {Component, useContext} from \"react\";\r\nimport firebase from \"../../firebase\";\r\nimport {Link} from \"@reach/router\";\r\nimport {UserContext} from \"../../providers/UserProvider\";\r\nimport Wrapper from \"../Wrapper\";\r\n\r\nclass BrowseImpl extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.ref = firebase.firestore().collection('posts');\r\n        this.unsubscribe = null;\r\n        this.state = {\r\n            posts: []\r\n        }\r\n    }\r\n\r\n    onCollectionUpdate = (querySnapshot) => {\r\n        const posts = [];\r\n\r\n        querySnapshot.forEach((doc) => {\r\n            const { title, desc, cover, posted, updated } = doc.data();\r\n            posts.push({\r\n                key: doc.id,\r\n                doc,  // snapshot\r\n                title,\r\n                desc,\r\n                cover,\r\n                posted,\r\n                updated,\r\n            });\r\n        });\r\n\r\n        this.setState( {\r\n            posts\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\r\n    }\r\n\r\n    render() {\r\n        const div = (\r\n            <div>\r\n                {this.props.admin ?\r\n                    <Link to=\"/new\">Add post</Link>\r\n                    :\r\n                    <div> </div>\r\n                }\r\n\r\n                <table style={{margin: \"auto\"}}>\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Title</th>\r\n                        <th>Description</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {this.state.posts.map(post =>\r\n                        <tr>\r\n                            <td><Link to={`/${post.key}`}>{post.title}</Link></td>\r\n                            <td>{post.desc}</td>\r\n                        </tr>\r\n                    )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n        return <Wrapper>{div}</Wrapper>;\r\n    }\r\n}\r\n\r\nexport default function Browse(props) {\r\n    const user = useContext(UserContext);\r\n    const admin = user.email === \"iangu234@gmail.com\" || user.email === \"ian.gu@mail.utoronto.ca\";\r\n\r\n    return <BrowseImpl admin={admin} {...props} user={user}/>\r\n\r\n};","import \"./blog.css\"\r\nimport React from 'react';\r\nimport {navigate} from \"@reach/router\";\r\n\r\nfunction Wrapper(props) {\r\n\r\n    return (\r\n        <div className={\"h100\"}>\r\n            <button onClick={() => {navigate('/guest')}}>\r\n                Blogs\r\n            </button>\r\n\r\n            <button onClick={() => {navigate('/')}}>\r\n                Sign in\r\n            </button>\r\n\r\n            <button onClick={() => {navigate('/signUp')}}>\r\n                Sign up\r\n            </button>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Wrapper;","import React, {Component } from \"react\";\r\nimport firebase from \"../../firebase\";\r\nimport {Link} from \"@reach/router\";\r\nimport GuestWrapper from \"../GuestWrapper\";\r\n\r\nclass GuestBrowse extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.ref = firebase.firestore().collection('posts');\r\n        this.unsubscribe = null;\r\n        this.state = {\r\n            posts: []\r\n        }\r\n    }\r\n\r\n    onCollectionUpdate = (querySnapshot) => {\r\n        const posts = [];\r\n\r\n        querySnapshot.forEach((doc) => {\r\n            const { title, desc, cover, posted, updated } = doc.data();\r\n            posts.push({\r\n                key: doc.id,\r\n                doc,  // snapshot\r\n                title,\r\n                desc,\r\n                cover,\r\n                posted,\r\n                updated,\r\n            });\r\n        });\r\n\r\n        this.setState( {\r\n            posts\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <GuestWrapper>\r\n                <div>\r\n                    <table style={{margin: \"auto\"}}>\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th>Description</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {this.state.posts.map(post =>\r\n                            <tr>\r\n                                <td><Link to={`/guest/${post.key}`}>{post.title}</Link></td>\r\n                                <td>{post.desc}</td>\r\n                            </tr>\r\n                        )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </GuestWrapper>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GuestBrowse;","import React, { Component } from \"react\";\r\nimport firebase from \"../../firebase.js\";\r\nimport {Link} from \"@reach/router\";\r\nimport Wrapper from \"../Wrapper\";\r\nimport GuestWrapper from \"../GuestWrapper\";\r\n\r\nclass GuestShow extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            post: {},\r\n            key: '',\r\n        };\r\n    };\r\n\r\n    componentDidMount() {\r\n        const ref = firebase.firestore().collection('posts').doc(this.props.id);\r\n        ref.get().then((doc) => {\r\n            if (doc.exists) {\r\n                this.setState({\r\n                    post: doc.data(),\r\n                    key: doc.id,\r\n                    isLoading: false,\r\n                });\r\n            } else {\r\n                console.log(\"Could not find document\");\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <GuestWrapper>\r\n                <div>\r\n                    <br/>\r\n                    Title: {this.state.post.title}\r\n                    <br/>\r\n                    Desc: {this.state.post.desc}\r\n                </div>\r\n            </GuestWrapper>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GuestShow;","import React, {useContext} from \"react\";\r\nimport { Router } from \"@reach/router\";\r\nimport SignIn from \"./auth/SignIn\";\r\nimport SignUp from \"./auth/SignUp\";\r\nimport ProfilePage from \"./auth/ProfilePage\";\r\nimport PasswordReset from \"./auth/PasswordReset\";\r\nimport {UserContext} from \"../providers/UserProvider\";\r\nimport New from \"./admin/New\";\r\nimport Edit from \"./admin/Edit\";\r\nimport Show from \"./blog/Show\";\r\nimport Browse from \"./blog/Browse\";\r\nimport GuestBrowse from \"./blog/GuestBrowse\";\r\nimport GuestShow from \"./blog/GuestShow\";\r\n\r\nfunction Application() {\r\n    const user = useContext(UserContext);\r\n    return (\r\n        user ?\r\n            user.email === \"iangu234@gmail.com\" || user.email === \"ian.gu@mail.utoronto.ca\" ?\r\n            // admin\r\n            <Router>\r\n                <Browse path={\"/\"}/>\r\n                <ProfilePage path=\"/profile\"/>\r\n                <New path={\"/new\"}/>\r\n                <Edit path={\"/:id/edit\"}/>\r\n                <Show path={\"/:id\"}/>\r\n            </Router>\r\n\r\n            : // logged in\r\n            <Router>\r\n                <ProfilePage path=\"/profile\"/>\r\n                <Browse path=\"/\"/>\r\n                <Show path=\"/:id\"/>\r\n            </Router>\r\n\r\n            : // not logged in\r\n            <Router>\r\n                <SignUp path=\"signUp\" />\r\n                <SignIn path=\"/\" />\r\n                <PasswordReset path = \"passwordReset\" />\r\n                <GuestBrowse path={\"guest\"}/>\r\n                <GuestShow path={\"guest/:id\"}/>\r\n            </Router>\r\n\r\n    );\r\n}\r\nexport default Application;","import React from 'react';\nimport Application from \"./components/Application\";\nimport UserProvider from \"./providers/UserProvider\";\nimport './App.css';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <UserProvider>\n        <Application />\n      </UserProvider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}